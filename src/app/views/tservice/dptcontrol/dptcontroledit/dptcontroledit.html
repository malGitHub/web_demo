<div>
  <div class="modal-header">
    <h3 class="modal-title">{{vm.title}}</h3>
  </div>
  <div class="modal-body">
    <form class="form-horizontal ng-pristine ng-invalid ng-invalid-required ng-valid-pattern" action="" name="edit_form"
          ng-submit="vm.submit($event, edit_form)" novalidate="">

      <div class="form-group">
        <label class="col-sm-3 control-label">*部门名称</label>
        <div class="col-sm-8">
          <input ng-model="vm.query.name" type="text" placeholder="请输入部门名称，不多于20字" class="form-control"  maxlength="20" required>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label">*上级部门</label>
        <div class="col-sm-8">
            <div style="position:relative;">
                <input ng-model="vm.selected.name" type="text" class="form-control" readonly>
                <span style="position: absolute;right:5px;top:10px" class="glyphicon glyphicon-th-list"  ng-click="vm.treeShow=!vm.treeShow"></span>
            </div>
            <treecontrol class="tree-light"
                         ng-show="vm.treeShow"
                         expanded-nodes="vm.expandedNodes"
                         on-node-toggle="vm.showToggle(node,expanded)"
                         tree-model="vm.dataForTheTree"
                         on-selection="vm.showSelected(node)"
                         ng-model="vm.selected" selected-node="vm.selected" options="vm.treeOptions" required>
                {{node.name}}
            </treecontrol>
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-8 col-sm-offset-3">
          <button ng-disabled="edit_form.$invalid || vm.requesting" class="btn btn-primary" type="submit" style="width: 85px;">提交</button>
          <button ng-click="vm.cancel()" class="btn btn-default" type="reset" style="width: 85px;">返回</button>
        </div>
      </div>
    </form>
  </div>
</div>

